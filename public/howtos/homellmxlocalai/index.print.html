<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.7">
    <meta name="generator" content="Relearn 5.25.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Documentation for Midori-AI">
    <meta name="author" content="Luna Midori">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="HA-OS (HomeLLM) x LocalAI :: Midori-AI">
    <meta name="twitter:description" content="Home Assistant is an open-source home automation platform that allows users to control and monitor various smart devices in their homes. It supports a wide range of devices, including lights, thermostats, security systems, and more. The platform is designed to be user-friendly and customizable, enabling users to create automations and routines to make their homes more convenient and efficient. Home Assistant can be accessed through a web interface or a mobile app, and it can be installed on a variety of hardware platforms, such as Raspberry Pi or a dedicated server.">
    <meta property="og:title" content="HA-OS (HomeLLM) x LocalAI :: Midori-AI">
    <meta property="og:description" content="Home Assistant is an open-source home automation platform that allows users to control and monitor various smart devices in their homes. It supports a wide range of devices, including lights, thermostats, security systems, and more. The platform is designed to be user-friendly and customizable, enabling users to create automations and routines to make their homes more convenient and efficient. Home Assistant can be accessed through a web interface or a mobile app, and it can be installed on a variety of hardware platforms, such as Raspberry Pi or a dedicated server.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://localhost:1313/howtos/homellmxlocalai/index.html">
    <meta property="article:section" content="LocalAI How-tos :: Midori-AI">
    <meta property="og:site_name" content="Midori-AI">
    <title>HA-OS (HomeLLM) x LocalAI :: Midori-AI</title>
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1722385083" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1722385083" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1722385083" rel="stylesheet">
    <link href="/css/auto-complete.css?1722385083" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1722385083" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1722385083" rel="stylesheet">
    <link href="/css/fonts.css?1722385083" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1722385083" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1722385083" rel="stylesheet">
    <link href="/css/theme-auto.css?1722385083" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-auto.css?1722385083" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/variant.css?1722385083" rel="stylesheet">
    <link href="/css/print.css?1722385083" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1722385083" rel="stylesheet">
    <link href="/css/ie.css?1722385083" rel="stylesheet">
    <script src="/js/url.js?1722385083"></script>
    <script src="/js/variant.js?1722385083"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      window.relearn = window.relearn || {};
      window.relearn.baseUriFull='http:\/\/localhost:1313/';
      // variant stuff
      window.relearn.themeVariantModifier='';
      window.variants && variants.init( [ 'auto', 'relearn-bright', 'relearn-light', 'relearn-dark', 'learn', 'neon', 'blue', 'green', 'red' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/howtos/homellmxlocalai/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/howtos/index.html"><span itemprop="name">LocalAI How-tos</span></a><meta itemprop="position" content="1">&nbsp;->&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">HA-OS (HomeLLM) x LocalAI</span><meta itemprop="position" content="2"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="ha-os-homellm-x-localai">HA-OS (HomeLLM) x LocalAI</h1>

<hr>
<p>Home Assistant is an open-source home automation platform that allows users to control and monitor various smart devices in their homes. It supports a wide range of devices, including lights, thermostats, security systems, and more. The platform is designed  to be user-friendly and customizable, enabling users to create automations and routines to make their homes more convenient and efficient. Home Assistant can be accessed through a web interface or a mobile app, and it can be installed on a variety of hardware platforms, such as Raspberry Pi or a dedicated server.</p>
<p>Currently, Home Assistant supports conversation-based agents and services. As of writing this, OpenAIs API is supported as a conversation agent; however, access to your homes devices and entities is possible through custom components. Local based services, such as LocalAI, are also available as a drop-in replacement for OpenAI services.</p>
<hr>
<p>In this guide I will detail the steps I&rsquo;ve taken to get <a href="https://github.com/acon96/home-llm" target="_blank">Home-LLM</a> and <a href="https://github.com/mudler/LocalAI/" target="_blank">Local-AI</a> working together in conjunction with <a href="https://www.home-assistant.io/" target="_blank">Home-Assistant</a>!</p>
<p>This guide assumes that you already have <a href="https://github.com/mudler/LocalAI/" target="_blank">Local-AI</a> running (in or out of the subsystem).
If that is not done, you can <a href="/howtos/by_hand/easy-setup-docker/index.html">Follow this How To</a> or <a href="https://io.midori-ai.xyz/subsystem/manager/" target="_blank">Install Using Midori AI Subsystem</a>!</p>
<hr>
<ul>
<li>
<p>1: You will first need to <a href="https://github.com/acon96/home-llm/blob/develop/docs/Setup.md" target="_blank">follow this guide to install Home-LLM</a>into your <a href="https://www.home-assistant.io/" target="_blank">Home-Assistant</a> installation.</p>
<p>If you simply want to install the <a href="https://github.com/acon96/home-llm" target="_blank">Home-LLM</a> component through HACS,  you  can press on this button:</p>
<p><a href="https://my.home-assistant.io/redirect/hacs_repository/?category=Integration&repository=home-llm&owner=acon96" target="_blank">Open your Home Assistant instance and open a repository inside the Home Assistant Community Store.</a></p>
</li>
<li>
<p>2: Add <code>Home LLM Conversation</code> integration to HA.</p>
<ul>
<li>1: Access the <code>Settings</code> page.</li>
<li>2: Click on <code>Devices &amp; services</code>.</li>
<li>3: Click on <code>+ ADD INTEGRATION</code> on the lower-right part of the screen.</li>
<li>4: Type and then select <code>Local LLM Conversation</code>.</li>
<li>5: Select the <code>Generic OpenAI Compatible API</code>.</li>
<li>6: Enter the hostname or IP Address of your LocalAI host.</li>
<li>7: Enter the used port (Default is <code>8080</code> / <code>38080</code>).</li>
<li>8: Enter <code>mistral-7b-instruct-v0.3</code> as the <code>Model Name*</code>
<ul>
<li>Leave <code>API Key</code> empty</li>
<li>Do not check <code>Use HTTPS</code></li>
<li>leave <code>API Path*</code> as <code>/v1</code></li>
</ul>
</li>
<li>9: Press <code>Next</code></li>
<li>10: Select <code>Assist</code> under <code>Selected LLM API</code></li>
<li>11: Make sure the <code>Prompt Format*</code> is set to <code>Mistral</code></li>
<li>12: Make sure <code>Enable in context learning (ICL) examples</code> is checked.</li>
<li>13: Press <code>Sumbit</code></li>
<li>14: Press <code>Finish</code></li>
</ul>
</li>
</ul>
<p><a href="#R-image-09cff82d2e43481ad1c7c8572bc8a093" class="lightbox-link"><img src="https://github.com/maxi1134/Home-Assistant-Config/blob/master/assets/home_llm_guide/home_llm_installation_video.gif?raw=true" alt="photo" class="figure-image noborder lightbox noshadow" style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-09cff82d2e43481ad1c7c8572bc8a093"><img src="https://github.com/maxi1134/Home-Assistant-Config/blob/master/assets/home_llm_guide/home_llm_installation_video.gif?raw=true" alt="photo" class="lightbox-image noborder lightbox noshadow" loading="lazy"></a></p>
<ul>
<li>
<p>3:  Configure the Voice assistant.</p>
<ul>
<li>1: Access the <code>Settings</code> page.</li>
<li>2: Click on <code>Voice assistants</code>.</li>
<li>3: Click on <code>+ ADD ASSISTANT</code>.</li>
<li>4: Name the Assistant <code>HomeLLM</code>.</li>
<li>5: Select <code>English</code> as the Language.</li>
<li>6: Set the <code>Conversation agent</code> to the newly created <code>LLM Model 'mistral-7b-instruct-v0.3' (remote)</code>.</li>
<li>7: Set your <code>Speech-to-text</code> <code>Wake word</code>, and <code>Text-to-speech</code> to the ones you use. Leave to <code>None</code> if you don&rsquo;t have any.</li>
<li>8: Click <code>Create</code></li>
</ul>
</li>
<li>
<p>4: Select the newly created voice assistant as the default one.</p>
<ul>
<li>While remaining on the <code>Voice assistants</code> page click on the newly create assistant, and press the start at the top-right corner.</li>
</ul>
</li>
</ul>
<p>There you go! Your Assistant should now be working with Local-AI through Home-LLM!</p>
<ul>
<li>Make sure that the entities you want to control are exposted to Assist within Home-Assistant!</li>
</ul>

<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Notice</div>
  <div class="box-content">

<p><strong>Important Note:</strong></p>
<p>Any devices you choose to expose to the model will be added to the context and may have their state changed by the model. Only expose devices that you are comfortable with the model modifying, even if the modification is not what you intended. The model may occasionally hallucinate and issue commands to the wrong device. Use at your own risk.</p>
</div>
</div>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1722441943" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1722441943" defer></script>
    <script src="/js/theme.js?1722441943" defer></script>
  </body>
</html>
